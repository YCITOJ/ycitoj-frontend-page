import{d as P,m as V,n as W,r as E,e as y,o as D,c as R,b as r,t as F,j as l,v as c,x as m,ai as Q,A as x,k as J,w as B,g as S,f as M,u as Z,E as g,p as O,a as N,_ as Y}from"./index-596b62d7.js";import{p as C}from"./index-c70bcbaa.js";import{f as G}from"./user-3b6bd59b.js";const H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAMaSURBVGhD7Zk7iBNRFIbzWBIzIxYWoiJbqIiFnRaCCwa0EfGthSCINjZCiOTJIiGVeaEGLAQVsdHCQgyoIKJbiILKViIqsuCyBLEQkSRIcBP/45xG4oyZe+66E5wPLvecs7vJ/e/rnJkN+Pj4+IwUQe61UigUDNM0D8PcjDaO1g0Gg835+fnn0Wj0YTKZ/Eq/pxOtQur1+rJut3u23++fhrvEig7QgqjLrVarUCwWOxwTo01IrVbb2Ov17sLcYEWcgdg34XD4QCqVes8hEVqElEqlNZjll2grOTQssxC/LZfLzbGvTIh7ZXAeQuCOgghiHH97i20RYiGGYZxEt8XylJioVCrH2FZGLAQrcYpNCeLPEJ0RnA3aGh/ZldDDhKxKp9Of2XeNaEXw5ZvYlBJCjlnLthJSIcvZFIPPWsGmEiIhyAUtNsVgi4o+SyQEX64lmRHYWh/YVEIkBGXGW6zKJ3YlzCApzrKthEgIaqUeuiuWpw4m4wabyoiEENhelzCQL+y6hla00+mcZ1cZsRC++0+g0eq45Qcm4ihWVnxpiIUQ2Wy2gZml7Ny1IkPxHe04JmLKcmVoEUJAzFXkgl0Q9JpDTkyj6t2eyWRusi9G+xMiVcOxWOwgtswhuBNolOhowpoQ+hQCbuNMNPiiGB1IGJs+/xXazgiV9Oi24hxQRbwOPVWzVFQuxQUQgv8NNl3Vc/Df0aWANp3P52cQE6MshF754FDvxQD3oMURWm39xDVNCHqEy+FBJBK5n0gkSLBrXAspl8v0WJvE4PejN34F9UGvhxq42S6g9nphhYZjaCEs4BwE7LQiC84zrFQC+ekV+478VQi20JhhGCTgDNx/fZXSI/BFVNmTyDtUCdjiKITOAbjHZ2AxmWq327ud3kw6zrBpmtc8IIKIYyzX2f4jtitSrVbj2KNP2PUEmNQdKDIfs/sbtisCEUfY9AwY0z42B3DaWpTgvMZ67gdwWpExNj0DxmQ7XsfDPkr4QryGkxDlF8oLiO07NNs8Qv+FQkVaxAFTrWq1ghzSRDeJ53wdLwR9fHx8FpVA4Cd8sf09JIsAwgAAAABJRU5ErkJggg==",L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAACltJREFUeF7tnU1u3EYQRtnQLBIgmwBZJoB8C+8incTWIUjAK8srwZxDWDmJpVVyCwtIdtkEyMYLDRi0wVHGskYku5rd5NdPgID8sIasV/2muvkjuoofCEDgKAEHGwhA4DgBBGF0QOAZAgjC8IAAgjAGIBBGgA4Sxo2oQgggSCGFJs0wAggSxo2oQgggSOJCX11dne53udlsvvxz13Wnzrm7/X+/v7+/e/PmzcO/Jz5EdndAAEFmHA5ehs1m86qX4KyqKv875cdLsv+99RLVdX0z5QPY1kYAQWz8voreC9F1XYgMY4/kS2dxzl1XVXWLMGOxhW2HIGHcHqIOpHhdVdXD9Mn4sVPC75BlCq5p2yLINF4PW2+327czd4qQI/siS13X70KCifmWAIJMHBW9GLm6xdijRZSxpAa2Q5CRINu29VK8zTSNGnmU32yGKKHk+jgEGQDo1xgnJycfAs5AGUsTNdyLcsGCfjpTBHmGWT+dupyOdZERdJOAsiDIE9BEusax4XC32+3OuRA5zhYEecSpX2v4KZXyD91kZHUR5ABU27ZeDL8YL+Xnummai1KSDckTQXpqbdt+XPlCPKT+PuauaZoXocHqccULIr7eGDt+WZccIVW0IMjx1ahAkickKVqQgqdVnOEa2VuLFWQBcuyf99jfzu5vdNz/jizfLJuxJjnAWqQgGeR4uON2zMNQ+4eq+geqfs1wUySS9JIUJ0jCq+NRrzX06yX/nIl/AGvqg1chrYZTwP65mxBya43ZbrdnXdf507mz/TjnLue+3fzgGZS5b4O5aJrGP5hV7E8xgvTfwJ/mqrQX4/7+/reUt3AkEKX4M1vFCDLjuuNmt9tdpBTjseS9/P5W/DnuAih6PVKEIDPeX7WoKchceaaYNs7V2a2fW4ognRXUo/jFPl/RdxO/zor5fHyxUy15QWa4AXHxg2UmSYo8qyUtyAxnrW6apjmP3I1m+bg5FvDOufPSnkqUFiTywnw1chwaF7mDrpKB5RtIVpDI3WO1Z3Ji35BZWheRFSTmN+faB0XkNUlRXURZkChnrtYux356EfNCqQqTMVMvSUFidQ+18/8Rr5MUc0ZLVRB/S4n1OsBq1x3Hvhkjrkfk2BxjJidIxG/JRV0lHzMdGLNNrJMXpUyzFAWJ8ZdJpBeikU5/SzPaf9koCmKeXql/O0ZasBcxzZISJFLhi/hmjNFF1L9IfBeREiTS+kNy7fF4fRJjLaJ2lu+pNZyaIOb1R9M0UkwGzmhZHyCT77ZSg6FtW+v6o5jz+16cCNMs+XWImiDWq+dFTK/2XSXSNEv6Dl8ZQWKsP3a73Yucj86OuY4Rc5sYJzXUF+oI8v+Ik59PPyWXdZqlvlBXEsS6QC9q/XEwzfJv67X8+SDpLxYE6UeK+jfhsalZhD+khyAx571zfZZ1qlBVVVEL9H0dIqzd/mqa5pe56pr7c2U6yPv37393zr00AC1SEOuZLOfcP3Vd/2jgvuhQGUG22+3fXdf9FEpb/WzMjBcMPzdN830o96XHKQnyb9d1P4QCL+0U755TjFO9yncfyAjStu2fVVX9HCiI9Dx6iEnbtqYLrAgyRHgB/996m0mpHaS/5QRBjoxhpQ5iug8LQcK/5egg4eySRdJBwlEzxTrOjg7Ss6GDhAtGBwlnlyySDhKOmg5CBxkcPXSQQURHN6CDhLNLFkkHCUdNB6GDDI4eOsggIjpIOKL8kXSQ8BrQQeggg6OHDjKIiA4Sjih/JB0kvAZ0EDrI4OihgwwiooOEI8ofSQcJrwEdhA4yOHroIIOI6CDhiPJH0kHCa0AHoYMMjh46yCAiOkg4ovyRdJDwGtBB6CCDo4cOMoiIDhKOKH8kHSS8BnQQOsjg6KGDDCKig4Qjyh9JBwmvAR2EDjI4euggg4joIOGI8kfSQcJrQAehgwyOHjrIICI6SDii/JF0kPAa0EFW0kH8n8HcbDav/OF2XXc2peRd1710zn03JeZw267r/nDOfQ6NX3ncJNZP5HozJX/nnN/+tq7rSXFT9hFr20X82Z/+HRWvq6o6jZUYn7MaAnfOueu6rt8t8YizCtL/6X3/ZijEWOLoSHtMd7vd7nxp74jMJkiENxulLR97S0Fgcd0kiyDIkWKsrXcfS3odXnJBrG80Wm/ZOfIJBHwnuVjCIj65INZTihMgs+m6Cdw1TfMidwpJBWnb1vqq5ty82H9aAtlfzZ1aENOLWtLWhr0tgED2LpJMkAivG15AvTiE1ARyv1w1pSAfq6qyXrFNXR/2l5lA7jNaKQUxvSItc53YfT4CWadZKQVh/ZFvkK16zznfP5JEkBjv4l51hTl4EwEEMeEjWJ0AgqhXmPxMBBDEhI9gdQIIol5h8jMRQBATPoLVCSCIeoXJz0QAQUz4CFYngCDqFSY/EwEEMeEjWJ0AgqhXmPxMBBDEhI9gdQIIol5h8jMRQBATPoLVCSCIeoXJz0QAQUz4CFYngCDqFSY/EwEEMeEjWJ0AgqhXmPxMBBDEhI9gdQIIol5h8jMRQBATPoLVCSCIeoXJz0QAQUz4CFYngCDqFSY/EwEEMeEjWJ0AgqhXmPxMBBDEhI9gdQIIol5h8jMRQBATPoLVCSCIeoXJz0QAQUz4CFYngCDqFSY/EwEEMeEjWJ0AgqhXmPxMBBDEhI9gdQIIol5h8jMRQBATPoLVCSCIeoXJz0QAQUz4CFYngCDqFSY/EwEEMeEjWJ0AgqhXmPxMBBDEhI9gdQIIol5h8jMRQBATPoLVCSCIeoXJz0QAQUz4CFYngCDqFSY/EwEEMeEjWJ0AgqhXmPxMBBDEhI9gdQIIol5h8jMRQBATPoLVCSCIeoXJz0QAQUz4CFYngCDqFSY/EwEEMeEjWJ0AgqhXmPxMBBDEhI9gdQIIol5h8jMRQBATPoLVCSCIeoXJz0QAQUz4CFYngCDqFSY/EwEEMeEjWJ0AgqhXmPxMBBDEhI9gdQIIol5h8jMRQBATPoLVCSCIeoXJz0QAQUz4CFYngCDqFSY/EwEEMeEjWJ0AgqhXmPxMBBDEhI9gdQIIol5h8jMRQBATPoLVCSCIeoXJz0QAQUz4CFYngCDqFSY/EwEEMeEjWJ0AgqhXmPxMBBDEhI9gdQIIol5h8jMRQBATPoLVCSCIeoXJz0QAQUz4CFYnIC+IL2Dbth+rqjpTLyb5xSdQiiCvq6r6EB8fnyhO4LppmotcObpUO766ujo9OTn5lGp/7EeDgHPuvK7rm1zZJBOEaVauEq97vzmnV55cUkHoIuserKmPPnf3SC5I30VYi6QeaSvcn3Pusq7rd7kPPWkH2Sfbtq1frHtR+IHAUwRumqY5XwKaLIL4qdZms3nVdd3lEiBwDIsisBg5skyxDkux3W7Puq7z3eR0USXiYLIQWMq06jD5LB3k8AAOuom/iMiFxCxDM+9OvRhVVd3mPJ17jEB2QZ6RJW/V2PvsBJxzN0tYiD+X6KIEmb0i7AACEwkgyERgbF4WAQQpq95kO5EAgkwExuZlEUCQsupNthMJIMhEYGxeFoH/AGM+UBSen4WiAAAAAElFTkSuQmCC",T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAJ9JREFUOE/V070NwjAURtH7pWAICsQoVDAGbGAnFR1QQcU+dLAJYpA8ZEuWTIQi41S49j3+k8XEoYk9cs6dm6ZZ1EB9378iIGlfA5jZRW3brs2sAzY/IjdJV3nvd8BT0qwQiqGZzWPnvT8AR+AOnEagPNwCq9DlQDrBECJbMYVp7lfgAwKWwDAsAkrudHQHfwSE5wiXVDMe0z9TzbJ58wah7kk7URbG/gAAAABJRU5ErkJggg==",K=""+new URL("canvas-edf4489a.png",import.meta.url).href;function k(A){return C("/signin/login",A)}function $(A){return C("/signin/bind_email",A)}function ee(A){return C("/signup/register",A)}function te(A){return C("/signup/send_register_code",A)}function se(A){return C("/signin/send_reset_mail",A)}function ne(A){return C("/signin/update_pass_by_mail",A)}class f{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(o,a=!1){return this.onePassHasher.start().appendStr(o).end(a)}static hashAsciiStr(o,a=!1){return this.onePassHasher.start().appendAsciiStr(o).end(a)}static _hex(o){const a=f.hexChars,t=f.hexOut;let e,s,n,h;for(h=0;h<4;h+=1)for(s=h*8,e=o[h],n=0;n<8;n+=2)t[s+1+n]=a.charAt(e&15),e>>>=4,t[s+0+n]=a.charAt(e&15),e>>>=4;return t.join("")}static _md5cycle(o,a){let t=o[0],e=o[1],s=o[2],n=o[3];t+=(e&s|~e&n)+a[0]-680876936|0,t=(t<<7|t>>>25)+e|0,n+=(t&e|~t&s)+a[1]-389564586|0,n=(n<<12|n>>>20)+t|0,s+=(n&t|~n&e)+a[2]+606105819|0,s=(s<<17|s>>>15)+n|0,e+=(s&n|~s&t)+a[3]-1044525330|0,e=(e<<22|e>>>10)+s|0,t+=(e&s|~e&n)+a[4]-176418897|0,t=(t<<7|t>>>25)+e|0,n+=(t&e|~t&s)+a[5]+1200080426|0,n=(n<<12|n>>>20)+t|0,s+=(n&t|~n&e)+a[6]-1473231341|0,s=(s<<17|s>>>15)+n|0,e+=(s&n|~s&t)+a[7]-45705983|0,e=(e<<22|e>>>10)+s|0,t+=(e&s|~e&n)+a[8]+1770035416|0,t=(t<<7|t>>>25)+e|0,n+=(t&e|~t&s)+a[9]-1958414417|0,n=(n<<12|n>>>20)+t|0,s+=(n&t|~n&e)+a[10]-42063|0,s=(s<<17|s>>>15)+n|0,e+=(s&n|~s&t)+a[11]-1990404162|0,e=(e<<22|e>>>10)+s|0,t+=(e&s|~e&n)+a[12]+1804603682|0,t=(t<<7|t>>>25)+e|0,n+=(t&e|~t&s)+a[13]-40341101|0,n=(n<<12|n>>>20)+t|0,s+=(n&t|~n&e)+a[14]-1502002290|0,s=(s<<17|s>>>15)+n|0,e+=(s&n|~s&t)+a[15]+1236535329|0,e=(e<<22|e>>>10)+s|0,t+=(e&n|s&~n)+a[1]-165796510|0,t=(t<<5|t>>>27)+e|0,n+=(t&s|e&~s)+a[6]-1069501632|0,n=(n<<9|n>>>23)+t|0,s+=(n&e|t&~e)+a[11]+643717713|0,s=(s<<14|s>>>18)+n|0,e+=(s&t|n&~t)+a[0]-373897302|0,e=(e<<20|e>>>12)+s|0,t+=(e&n|s&~n)+a[5]-701558691|0,t=(t<<5|t>>>27)+e|0,n+=(t&s|e&~s)+a[10]+38016083|0,n=(n<<9|n>>>23)+t|0,s+=(n&e|t&~e)+a[15]-660478335|0,s=(s<<14|s>>>18)+n|0,e+=(s&t|n&~t)+a[4]-405537848|0,e=(e<<20|e>>>12)+s|0,t+=(e&n|s&~n)+a[9]+568446438|0,t=(t<<5|t>>>27)+e|0,n+=(t&s|e&~s)+a[14]-1019803690|0,n=(n<<9|n>>>23)+t|0,s+=(n&e|t&~e)+a[3]-187363961|0,s=(s<<14|s>>>18)+n|0,e+=(s&t|n&~t)+a[8]+1163531501|0,e=(e<<20|e>>>12)+s|0,t+=(e&n|s&~n)+a[13]-1444681467|0,t=(t<<5|t>>>27)+e|0,n+=(t&s|e&~s)+a[2]-51403784|0,n=(n<<9|n>>>23)+t|0,s+=(n&e|t&~e)+a[7]+1735328473|0,s=(s<<14|s>>>18)+n|0,e+=(s&t|n&~t)+a[12]-1926607734|0,e=(e<<20|e>>>12)+s|0,t+=(e^s^n)+a[5]-378558|0,t=(t<<4|t>>>28)+e|0,n+=(t^e^s)+a[8]-2022574463|0,n=(n<<11|n>>>21)+t|0,s+=(n^t^e)+a[11]+1839030562|0,s=(s<<16|s>>>16)+n|0,e+=(s^n^t)+a[14]-35309556|0,e=(e<<23|e>>>9)+s|0,t+=(e^s^n)+a[1]-1530992060|0,t=(t<<4|t>>>28)+e|0,n+=(t^e^s)+a[4]+1272893353|0,n=(n<<11|n>>>21)+t|0,s+=(n^t^e)+a[7]-155497632|0,s=(s<<16|s>>>16)+n|0,e+=(s^n^t)+a[10]-1094730640|0,e=(e<<23|e>>>9)+s|0,t+=(e^s^n)+a[13]+681279174|0,t=(t<<4|t>>>28)+e|0,n+=(t^e^s)+a[0]-358537222|0,n=(n<<11|n>>>21)+t|0,s+=(n^t^e)+a[3]-722521979|0,s=(s<<16|s>>>16)+n|0,e+=(s^n^t)+a[6]+76029189|0,e=(e<<23|e>>>9)+s|0,t+=(e^s^n)+a[9]-640364487|0,t=(t<<4|t>>>28)+e|0,n+=(t^e^s)+a[12]-421815835|0,n=(n<<11|n>>>21)+t|0,s+=(n^t^e)+a[15]+530742520|0,s=(s<<16|s>>>16)+n|0,e+=(s^n^t)+a[2]-995338651|0,e=(e<<23|e>>>9)+s|0,t+=(s^(e|~n))+a[0]-198630844|0,t=(t<<6|t>>>26)+e|0,n+=(e^(t|~s))+a[7]+1126891415|0,n=(n<<10|n>>>22)+t|0,s+=(t^(n|~e))+a[14]-1416354905|0,s=(s<<15|s>>>17)+n|0,e+=(n^(s|~t))+a[5]-57434055|0,e=(e<<21|e>>>11)+s|0,t+=(s^(e|~n))+a[12]+1700485571|0,t=(t<<6|t>>>26)+e|0,n+=(e^(t|~s))+a[3]-1894986606|0,n=(n<<10|n>>>22)+t|0,s+=(t^(n|~e))+a[10]-1051523|0,s=(s<<15|s>>>17)+n|0,e+=(n^(s|~t))+a[1]-2054922799|0,e=(e<<21|e>>>11)+s|0,t+=(s^(e|~n))+a[8]+1873313359|0,t=(t<<6|t>>>26)+e|0,n+=(e^(t|~s))+a[15]-30611744|0,n=(n<<10|n>>>22)+t|0,s+=(t^(n|~e))+a[6]-1560198380|0,s=(s<<15|s>>>17)+n|0,e+=(n^(s|~t))+a[13]+1309151649|0,e=(e<<21|e>>>11)+s|0,t+=(s^(e|~n))+a[4]-145523070|0,t=(t<<6|t>>>26)+e|0,n+=(e^(t|~s))+a[11]-1120210379|0,n=(n<<10|n>>>22)+t|0,s+=(t^(n|~e))+a[2]+718787259|0,s=(s<<15|s>>>17)+n|0,e+=(n^(s|~t))+a[9]-343485551|0,e=(e<<21|e>>>11)+s|0,o[0]=t+o[0]|0,o[1]=e+o[1]|0,o[2]=s+o[2]|0,o[3]=n+o[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(f.stateIdentity),this}appendStr(o){const a=this._buffer8,t=this._buffer32;let e=this._bufferLength,s,n;for(n=0;n<o.length;n+=1){if(s=o.charCodeAt(n),s<128)a[e++]=s;else if(s<2048)a[e++]=(s>>>6)+192,a[e++]=s&63|128;else if(s<55296||s>56319)a[e++]=(s>>>12)+224,a[e++]=s>>>6&63|128,a[e++]=s&63|128;else{if(s=(s-55296)*1024+(o.charCodeAt(++n)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");a[e++]=(s>>>18)+240,a[e++]=s>>>12&63|128,a[e++]=s>>>6&63|128,a[e++]=s&63|128}e>=64&&(this._dataLength+=64,f._md5cycle(this._state,t),e-=64,t[0]=t[16])}return this._bufferLength=e,this}appendAsciiStr(o){const a=this._buffer8,t=this._buffer32;let e=this._bufferLength,s,n=0;for(;;){for(s=Math.min(o.length-n,64-e);s--;)a[e++]=o.charCodeAt(n++);if(e<64)break;this._dataLength+=64,f._md5cycle(this._state,t),e=0}return this._bufferLength=e,this}appendByteArray(o){const a=this._buffer8,t=this._buffer32;let e=this._bufferLength,s,n=0;for(;;){for(s=Math.min(o.length-n,64-e);s--;)a[e++]=o[n++];if(e<64)break;this._dataLength+=64,f._md5cycle(this._state,t),e=0}return this._bufferLength=e,this}getState(){const o=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[o[0],o[1],o[2],o[3]]}}setState(o){const a=o.buffer,t=o.state,e=this._state;let s;for(this._dataLength=o.length,this._bufferLength=o.buflen,e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],s=0;s<a.length;s+=1)this._buffer8[s]=a.charCodeAt(s)}end(o=!1){const a=this._bufferLength,t=this._buffer8,e=this._buffer32,s=(a>>2)+1;this._dataLength+=a;const n=this._dataLength*8;if(t[a]=128,t[a+1]=t[a+2]=t[a+3]=0,e.set(f.buffer32Identity.subarray(s),s),a>55&&(f._md5cycle(this._state,e),e.set(f.buffer32Identity)),n<=4294967295)e[14]=n;else{const h=n.toString(16).match(/(.*?)(.{0,8})$/);if(h===null)return;const I=parseInt(h[2],16),p=parseInt(h[1],16)||0;e[14]=I,e[15]=p}return f._md5cycle(this._state,e),o?this._state:f._hex(this._state)}}f.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);f.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);f.hexChars="0123456789abcdef";f.hexOut=[];f.onePassHasher=new f;if(f.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");const w=A=>(O("data-v-a3044ce4"),A=A(),N(),A),ae={class:"demo form-bg"},re={class:"container"},oe={class:"box"},ie={class:"form-horizontal"},le={class:"heading"},ue={class:"from"},fe={class:"form-group"},he=w(()=>r("i",{class:"fa fa-user"},[r("img",{src:H})],-1)),de={class:"form-group"},ce=w(()=>r("i",{class:"fa fa-lock"},[r("img",{src:L})],-1)),Ae={class:"form-group"},ge=w(()=>r("i",{class:"fa fa-lock"},[r("img",{src:L})],-1)),me={class:"form-group"},pe=w(()=>r("i",{class:"fa fa-lock"},[r("img",{src:T})],-1)),Ie={class:"form-group emailCode"},Ee=w(()=>r("i",{class:"fa fa-lock"},[r("img",{src:K})],-1)),Ce={class:"bottom-btn"},ve={class:"text"},Qe={class:"form-group1"},we={class:"form-group1"},_e={class:"form-group1"},be={class:"form-group1"},De={style:{"margin-left":"20px"}},xe=P({__name:"login",setup(A){const o=V(),a=W();let t=E("");t.value=a.query.title||"登录页面";let e=E({username:"",password:""}),s=E(""),n=E(""),h=E(""),I=E(0);function p(d){e.value={username:"",password:""},s.value="",n.value="",h.value="",t.value=d}async function j(){if(!_())return;let d=f.hashStr(e.value.password),i={username:e.value.username,password:d};const v=Z();try{const{data:u}=await k(i);v.setUserInfo(u)}catch(u){u.data.meta.status===1e3&&(t.value="绑定邮箱");return}const{data:b}=await G();v.setConfigInfo(b),o.push("/home")}async function X(){if(!_())return;let d=f.hashStr(e.value.password);if(h.value==""){g.error("请输入邮箱验证码！");return}let i={username:e.value.username,password:d,email:n.value,email_code:h.value};await $(i),g.success("绑定成功，请登录"),p("登录页面")}async function z(){if(!_())return;let d=f.hashStr(e.value.password);if(e.value.password!=s.value){g.error("两次密码不一致！");return}if(h.value==""){g.error("请输入邮箱验证码！");return}let i={username:e.value.username,password:d,email:n.value,email_code:h.value};await ee(i),g.success("注册成功，请登录"),p("登录页面")}async function U(){if(!_())return;let d=f.hashStr(e.value.password);if(e.value.password!=s.value){g.error("两次密码不一致！");return}if(h.value==""){g.error("请输入邮箱验证码！");return}let i={new_password:d,email:n.value,email_code:h.value};await ne(i),g.success("邮箱重置密码，请登录"),p("登录页面")}function _(){let d=e.value.username,i=e.value.password;return d==""&&t.value!="邮箱重置密码"?(g.error("请输入用户名"),!1):t.value=="注册页面"&&(d.length<3||d.length>25||!/([A-Za-z0-9]+|([A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}))$/.test(d))?(g.error("请输入3-25英文、数字组成的用户名或邮箱"),!1):i==""?(g.error("请输入密码"),!1):i.length<6||i.length>30||!/^[a-zA-Z0-9\s]+$/.test(i)?(g.error("请输入6-30英文、数字组成的密码"),!1):!0}async function q(){if(n.value==""){g.error("邮箱不能为空");return}if(!/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/.test(n.value)){g.error("邮箱格式不正确");return}t.value=="注册页面"||t.value=="绑定邮箱"?await te({email:n.value}):t.value=="邮箱重置密码"&&await se({email:n.value}),I.value=60;const d=setInterval(()=>{I.value--,I.value<0&&(clearInterval(d),I.value=0)},1e3)}return(d,i)=>{const v=y("el-link"),b=y("el-text");return D(),R("div",ae,[r("div",re,[r("div",oe,[r("form",ie,[r("div",le,F(l(t)),1),r("div",ue,[c(r("div",fe,[he,c(r("input",{required:"",name:"login[username]",type:"username",class:"form-control",placeholder:"用户名",minlength:"3",maxlength:"25","onUpdate:modelValue":i[0]||(i[0]=u=>l(e).username=u)},null,512),[[Q,l(e).username]])],512),[[m,l(t)=="登录页面"||l(t)=="注册页面"||l(t)=="绑定邮箱"]]),r("div",de,[ce,c(r("input",{required:"",name:"login[password]",type:"password",class:"form-control",placeholder:"密码",minlength:"6",maxlength:"30","onUpdate:modelValue":i[1]||(i[1]=u=>l(e).password=u)},null,512),[[Q,l(e).password]])]),c(r("div",Ae,[ge,c(r("input",{required:"",name:"login[password]",type:"password",class:"form-control",placeholder:"确认密码",minlength:"6",maxlength:"30","onUpdate:modelValue":i[2]||(i[2]=u=>x(s)?s.value=u:s=u)},null,512),[[Q,l(s)]])],512),[[m,l(t)=="注册页面"||l(t)=="邮箱重置密码"]]),c(r("div",me,[pe,c(r("input",{required:"",name:"login[email]",type:"email",class:"form-control",placeholder:"email","onUpdate:modelValue":i[3]||(i[3]=u=>x(n)?n.value=u:n=u)},null,512),[[Q,l(n)]])],512),[[m,l(t)=="注册页面"||l(t)=="邮箱重置密码"||l(t)=="绑定邮箱"]]),c(r("div",Ie,[Ee,c(r("input",{type:"text",placeholder:"验证码","onUpdate:modelValue":i[4]||(i[4]=u=>x(h)?h.value=u:h=u)},null,512),[[Q,l(h)]]),l(I)<=0?(D(),J(v,{key:0,underline:!1,type:"primary",onClick:q},{default:B(()=>[S("获取验证码")]),_:1})):(D(),J(b,{key:1,class:"mx-1",type:"info"},{default:B(()=>[S(F(l(I))+" 秒后可重新发送",1)]),_:1}))],512),[[m,l(t)=="注册页面"||l(t)=="邮箱重置密码"||l(t)=="绑定邮箱"]])]),r("div",Ce,[r("div",ve,[c(M(v,{type:"info",onClick:i[5]||(i[5]=u=>p("邮箱重置密码"))},{default:B(()=>[S("忘记密码")]),_:1},512),[[m,l(t)=="登录页面"]])]),r("div",Qe,[c(r("button",{type:"button",class:"btn btn-default",onClick:i[6]||(i[6]=u=>j())},"登录",512),[[m,l(t)=="登录页面"]]),c(r("button",{type:"button",class:"btn btn-default",onClick:i[7]||(i[7]=u=>z())},"注册",512),[[m,l(t)=="注册页面"]]),c(r("button",{type:"button",class:"btn btn-default",onClick:i[8]||(i[8]=u=>U())},"重置密码",512),[[m,l(t)=="邮箱重置密码"]]),c(r("button",{type:"button",class:"btn btn-default",onClick:i[9]||(i[9]=u=>X())},"绑定邮箱",512),[[m,l(t)=="绑定邮箱"]])]),c(r("div",we,[r("span",null,[r("span",{class:"create_account",onClick:i[10]||(i[10]=u=>p("注册页面"))},"注册")])],512),[[m,l(t)=="登录页面"]]),c(r("div",_e,[r("span",null,[r("span",{class:"create_account",onClick:i[11]||(i[11]=u=>p("登录页面"))},"登录")])],512),[[m,l(t)=="注册页面"]]),c(r("div",be,[r("span",null,[r("span",{class:"create_account",onClick:i[12]||(i[12]=u=>p("登录页面"))},"登录")]),r("span",De,[r("span",{class:"create_account",onClick:i[13]||(i[13]=u=>p("注册页面"))},"注册")])],512),[[m,l(t)=="邮箱重置密码"]])])])])])])}}});const Fe=Y(xe,[["__scopeId","data-v-a3044ce4"]]);export{Fe as default};
