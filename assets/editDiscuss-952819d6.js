import{d as v,n as y,m as V,r as w,e as n,o as x,c as h,f as t,w as a,j as o,g as k,E as D,_ as C}from"./index-596b62d7.js";import{b as B,u as E}from"./discuss-26b3cf8a.js";import{t as U}from"./discuss-0cfec904.js";import"./index-c70bcbaa.js";const q={class:"addDiscuss Box"},N=v({__name:"editDiscuss",setup(R){const d=y(),c=V();let e=w({topic_id:0,title:"",content:"",type:U.common,type_id:0,introduce:""});const m={bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!1,imagelink:!1,code:!1,table:!1,fullscreen:!0,readmodel:!0,htmlcode:!1,help:!1,undo:!0,redo:!0,trash:!0,save:!1,navigation:!1,alignleft:!1,aligncenter:!1,alignright:!1,subfield:!0,preview:!0};async function _(){const{data:r}=await B({topic_id:d.query.id});e.value=r,e.value.topic_id=r.id}async function p(){await E(e.value),D.success("修改成功"),c.go(-1)}return _(),(r,l)=>{const i=n("el-input"),u=n("el-form-item"),f=n("mavon-editor"),g=n("el-button"),b=n("el-form");return x(),h("div",q,[t(b,{model:o(e),"label-width":"40px"},{default:a(()=>[t(u,{label:"标题"},{default:a(()=>[t(i,{modelValue:o(e).title,"onUpdate:modelValue":l[0]||(l[0]=s=>o(e).title=s)},null,8,["modelValue"])]),_:1}),t(u,{label:"主题"},{default:a(()=>[t(i,{modelValue:o(e).introduce,"onUpdate:modelValue":l[1]||(l[1]=s=>o(e).introduce=s),placeholder:"一段话描述帖子",type:"textarea",maxlength:"250","show-word-limit":""},null,8,["modelValue"])]),_:1}),t(u,{label:"内容"},{default:a(()=>[t(f,{modelValue:o(e).content,"onUpdate:modelValue":l[2]||(l[2]=s=>o(e).content=s),toolbars:m,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),t(u,null,{default:a(()=>[t(g,{type:"primary",onClick:p},{default:a(()=>[k("发表")]),_:1})]),_:1})]),_:1},8,["model"])])}}});const O=C(N,[["__scopeId","data-v-c78f357a"]]);export{O as default};
