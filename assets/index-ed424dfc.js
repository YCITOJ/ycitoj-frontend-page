import{d as D,m as I,u as M,r as n,e as l,q as R,o as p,c as T,b as m,f as t,w as o,j as a,s as j,A as q,g as f,v as A,k as w,V as L,l as U,Q as H,E as P,_ as Q}from"./index-596b62d7.js";import{g as $,d as F}from"./probcollection-91b61205.js";import"./index-c70bcbaa.js";const G={class:"submissionList-card Box"},J={class:"table"},K={class:"header"},O={class:"search"},W=D({__name:"index",setup(X){const y=I(),C=M(),d=n(!1);let g=n(),v=n(0),u=n(1),h=n(10),s=n("");async function c(){d.value=!0;const{data:e}=await $({page_no:u.value,key:s.value});g.value=e.list,v.value=e.total,h.value=e.size,d.value=!1}c();function k(e){u.value=e,c()}function B(e){y.push({name:"collectioninfo",query:{id:e.id}})}function V(e){H.confirm("确定要删除该题单?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{await F({id:e}),P.success("删除成功"),c()})}return(e,b)=>{const r=l("el-button"),z=l("el-input"),x=l("router-link"),_=l("el-table-column"),E=l("el-table"),N=l("el-pagination"),S=R("loading");return p(),T("div",G,[m("div",J,[m("div",K,[m("div",O,[t(z,{modelValue:a(s),"onUpdate:modelValue":b[0]||(b[0]=i=>q(s)?s.value=i:s=i),placeholder:"输入编号、名称",class:"input-with-select"},{append:o(()=>[t(r,{icon:a(j),onClick:c},null,8,["icon"])]),_:1},8,["modelValue"]),t(x,{class:"menuitem-a",to:"/probcollection/add"},{default:o(()=>[t(r,{class:"btn",type:"primary"},{default:o(()=>[f("添加题单")]),_:1})]),_:1})])]),A((p(),w(E,{data:a(g),style:{width:"100%"},onRowClick:B},{default:o(()=>[t(_,{label:"编号",prop:"id",align:"center",width:"100"}),t(_,{label:"名称",prop:"title"}),a(C).isSuperAdmin()?(p(),w(_,{key:0,label:"操作",width:"200"},{default:o(i=>[t(x,{class:"menuitem-a",to:`/probcollection/update?id=${i.row.id}`,style:{"margin-right":"6px"}},{default:o(()=>[t(r,{size:"small"},{default:o(()=>[f("修改")]),_:1})]),_:2},1032,["to"]),t(r,{slot:"reference",size:"small",type:"danger",onClick:L(Y=>V(i.row.id),["stop"])},{default:o(()=>[f("删除")]),_:2},1032,["onClick"])]),_:1})):U("",!0)]),_:1},8,["data"])),[[S,d.value]]),t(N,{layout:"total, prev, pager, next, jumper",total:parseInt(String(a(v))),"page-sizes":[10,20,30,40,50],"urrent-page":a(u),"page-size":a(h),onCurrentChange:k},null,8,["total","urrent-page","page-size"])])])}}});const oe=Q(W,[["__scopeId","data-v-79623d8c"]]);export{oe as default};
