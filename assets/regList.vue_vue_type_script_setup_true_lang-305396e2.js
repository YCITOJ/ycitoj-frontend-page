import{k as C,l as R}from"./contest-e2535aed.js";import{d as I,r as d,e as l,o as B,c as E,b as N,f as e,w as a,g as b,A as i,j as g,F,E as L}from"./index-596b62d7.js";const q=I({__name:"regList",props:{contestId:{type:String,required:!0}},setup(V){const u=V,_=d([]);let t=d(!1),r=d("");async function p(){let{data:m}=await C({contest_id:u.contestId});_.value=m}async function v(){await R({contest_id:u.contestId,user_id:r.value}),L.success("添加选手成功"),t.value=!1,p()}return p(),(m,o)=>{const c=l("el-button"),n=l("el-table-column"),y=l("el-table"),w=l("el-input"),f=l("el-form-item"),k=l("el-form"),x=l("el-dialog");return B(),E(F,null,[N("div",null,[e(c,{type:"primary",onClick:o[0]||(o[0]=s=>i(t)?t.value=!0:t=!0)},{default:a(()=>[b("添加选手")]),_:1}),e(y,{data:_.value},{default:a(()=>[e(n,{prop:"usr_id",label:"用户id"}),e(n,{prop:"name",label:"用户名"}),e(n,{sortable:"",prop:"class_name",label:"班级"}),e(n,{sortable:"",prop:"sid",label:"学号"}),e(n,{sortable:"",prop:"real_name",label:"姓名"}),e(n,{sortable:"",prop:"rate",label:"积分"})]),_:1},8,["data"])]),e(x,{title:"报名列表",modelValue:g(t),"onUpdate:modelValue":o[2]||(o[2]=s=>i(t)?t.value=s:t=s),width:"50%"},{default:a(()=>[e(k,{"label-width":"120px"},{default:a(()=>[e(f,{label:"用户id"},{default:a(()=>[e(w,{modelValue:g(r),"onUpdate:modelValue":o[1]||(o[1]=s=>i(r)?r.value=s:r=s)},null,8,["modelValue"])]),_:1}),e(f,{label:"用户id"},{default:a(()=>[e(c,{type:"primary",onClick:v},{default:a(()=>[b("确认")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});export{q as _};
