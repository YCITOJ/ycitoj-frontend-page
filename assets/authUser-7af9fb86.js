import{f as S,u as k,e as B}from"./admin-5d330f3e.js";import{d as E,r as h,i as N,e as r,o as j,c as F,f as e,w as o,g as u,b as c,j as a,af as I,K as P,F as $,E as V,_ as A}from"./index-596b62d7.js";import"./index-c70bcbaa.js";const K={class:"submissionList-card"},M={class:"table"},T={class:"header"},q={class:"search"},D=E({__name:"authUser",setup(G){let m=h(),f=h(0),t=N({page_no:1,page_size:20,class_name:"",sid:"",user_id:"",real_name:""});async function d(){const{data:l}=await S(t);m.value=l.list,f.value=l.total}function v(l){t.page_no=l,d()}function C(l){t.page_size=l,d()}d();async function w(l){await k({user_id:l,n_pass:"123456"}),V.success("修改成功")}async function y(l){await B({id:l}),V.success("删除成功"),d()}return(l,s)=>{const g=r("el-breadcrumb-item"),z=r("el-breadcrumb"),_=r("el-input"),p=r("el-button"),i=r("el-table-column"),b=r("el-popconfirm"),U=r("el-table"),x=r("el-pagination");return j(),F($,null,[e(z,{separator:"/"},{default:o(()=>[e(g,{to:{path:"/admin"}},{default:o(()=>[u("主页")]),_:1}),e(g,null,{default:o(()=>[u("提价记录")]),_:1})]),_:1}),c("div",K,[c("div",M,[c("div",T,[c("div",q,[e(_,{modelValue:a(t).real_name,"onUpdate:modelValue":s[0]||(s[0]=n=>a(t).real_name=n),placeholder:"输入姓名",clearable:""},null,8,["modelValue"]),e(_,{modelValue:a(t).user_id,"onUpdate:modelValue":s[1]||(s[1]=n=>a(t).user_id=n),placeholder:"输入用户id",clearable:""},null,8,["modelValue"]),e(_,{modelValue:a(t).sid,"onUpdate:modelValue":s[2]||(s[2]=n=>a(t).sid=n),placeholder:"输入学号",clearable:""},null,8,["modelValue"]),e(_,{modelValue:a(t).class_name,"onUpdate:modelValue":s[3]||(s[3]=n=>a(t).class_name=n),placeholder:"输入班级",clearable:""},null,8,["modelValue"]),e(p,{type:"primary",onClick:d},{default:o(()=>[u("搜索")]),_:1})])]),e(U,{data:a(m),style:{width:"100%"},fit:""},{default:o(()=>[e(i,{label:"学号",prop:"sid",align:"center"}),e(i,{label:"班级名称",width:"150",prop:"class_name",align:"center"}),e(i,{label:"姓名",width:"150",prop:"real_name",align:"center"}),e(i,{label:"用户id",prop:"id",align:"center"}),e(i,{label:"用户名",prop:"name",align:"center"}),e(i,{label:"操作"},{default:o(n=>[e(b,{title:"确定要重置密码?",onConfirm:L=>w(n.row.id)},{reference:o(()=>[e(p,{type:"primary",icon:a(I),size:"mini"},{default:o(()=>[u("重置密码")]),_:1},8,["icon"])]),_:2},1032,["onConfirm"]),e(b,{title:"确定要删除该用户?",onConfirm:L=>y(n.row.id)},{reference:o(()=>[e(p,{type:"danger",icon:a(P),size:"mini"},null,8,["icon"])]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"]),e(x,{layout:"total, sizes, prev, pager, next, jumper",total:parseInt(String(a(f))),"page-sizes":[10,20,30,40,50],"urrent-page":a(t).page_no,"page-size":a(t).page_size,onSizeChange:C,onCurrentChange:v},null,8,["total","urrent-page","page-size"])])])],64)}}});const Q=A(D,[["__scopeId","data-v-a3c9e742"]]);export{Q as default};
