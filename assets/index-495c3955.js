import{b as D,c as L,a as S}from"./user-3b6bd59b.js";import{d as h,m as $,u as w,r as g,e as _,o as u,c as p,b as E,F as V,h as q,f as e,w as s,g as m,t as y,j as f,_ as x,V as k,a5 as I,Q as M,E as R}from"./index-596b62d7.js";import{g as N,d as T}from"./discuss-26b3cf8a.js";import"./index-c70bcbaa.js";const z={class:"passlist"},F={class:"list"},U={class:"item"},j=h({__name:"passlist",setup(v){const a=$(),i=w();let c=g([]);async function l(){const{data:t}=await D({user_id:i.userInfo.id});c.value=t}function r(t){a.push({name:"submit",query:{num:t}})}return l(),(t,d)=>{const n=_("el-link");return u(),p("div",z,[E("div",F,[(u(!0),p(V,null,q(f(c),o=>(u(),p("div",U,[e(n,{type:"primary",onClick:b=>r(o.num)},{default:s(()=>[m(y(o.num),1)]),_:2},1032,["onClick"])]))),256))])])}}});const H=x(j,[["__scopeId","data-v-44efb44c"]]),P={class:"passlist"},Q=h({__name:"mycontests",setup(v){const a=$(),i=w();let c=g([]);async function l(){const{data:t}=await L({user_id:i.userInfo.id,page_no:1});c.value=t}function r(t){a.push({name:"registration",query:{id:t.id}})}return l(),(t,d)=>{const n=_("el-table-column"),o=_("el-table");return u(),p("div",P,[e(o,{data:f(c),style:{width:"100%"},onRowClick:r},{default:s(()=>[e(n,{prop:"title",label:"比赛名称"}),e(n,{prop:"start_time",label:"开始时间",width:"180"}),e(n,{prop:"end_time",label:"结束时间",width:"180"})]),_:1},8,["data"])])}}});const A=x(Q,[["__scopeId","data-v-2b2547db"]]),G={class:"mydiscuss"},J=h({__name:"mydiscuss",setup(v){let a=g();async function i(){const{data:t}=await N();a.value=t}function c(t){I.push({name:"discussHome",query:{id:t.id}})}function l(t){M.confirm("确定删除该评论吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{await T({topic_id:t}),a.value=a.value.filter(d=>d.id!==t),R.success("删除成功")})}function r(t){I.push({name:"editDiscuss",query:{id:t}})}return i(),(t,d)=>{const n=_("el-table-column"),o=_("el-button"),b=_("el-table");return u(),p("div",G,[e(b,{data:f(a),style:{width:"100%"},onRowClick:c},{default:s(()=>[e(n,{prop:"title",label:"帖子名称"}),e(n,{prop:"create_time",label:"创建时间",width:"180"}),e(n,{label:"操作",width:"160"},{default:s(C=>[e(o,{size:"small",onClick:k(B=>r(C.row.id),["stop"])},{default:s(()=>[m("编辑")]),_:2},1032,["onClick"]),e(o,{style:{"margin-left":"10px"},size:"small",type:"danger",onClick:k(B=>l(C.row.id),["stop"])},{default:s(()=>[m(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])}}}),K={class:"user Box"},O=h({__name:"index",setup(v){const a=w();let i=g(0);async function c(){const l=await S({user_id:a.userInfo.id});i.value=l.data?l.data[0].rate:l.title}return c(),(l,r)=>{const t=_("el-descriptions-item"),d=_("el-descriptions"),n=_("el-card"),o=_("el-tab-pane"),b=_("el-tabs");return u(),p("div",K,[e(n,{class:"user-info"},{default:s(()=>[e(d,{title:"用户信息"},{default:s(()=>[e(t,{label:"用户名"},{default:s(()=>[m(y(f(a).userInfo.username),1)]),_:1}),e(t,{label:"积分"},{default:s(()=>[m(y(f(i)),1)]),_:1}),e(t,{label:"用户ID"},{default:s(()=>[m(y(f(a).userInfo.id),1)]),_:1})]),_:1})]),_:1}),e(n,{class:"main"},{default:s(()=>[e(b,{class:"demo-tabs"},{default:s(()=>[e(o,{label:"练习"},{default:s(()=>[e(H)]),_:1}),e(o,{label:"参加的比赛"},{default:s(()=>[e(A)]),_:1}),e(o,{label:"发布的帖子"},{default:s(()=>[e(J)]),_:1})]),_:1})]),_:1})])}}});const ee=x(O,[["__scopeId","data-v-792440b7"]]);export{ee as default};
