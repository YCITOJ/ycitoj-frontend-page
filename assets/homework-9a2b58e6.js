import{d as B,n as I,m as q,u as N,X as V,r as $,e as v,o as n,c as u,j as e,k as m,w as a,f as g,g as d,l as p,F as E,h as H,b as r,t as k,V as f,Q as L,E as T,_ as A}from"./index-596b62d7.js";import{e as M,f as O}from"./class-c50514a5.js";import"./index-c70bcbaa.js";const F={class:"homework"},R={class:"list"},j=["onClick"],D={class:"left"},Q={class:"title"},U={class:"endTime"},X={class:"right"},z={class:"btn"},G=B({__name:"homework",setup(J){const i=I(),h=q(),o=N(),l=V();let w=$([]);async function y(){const{data:s}=await M({class_id:i.query.id});w.value=s}y();function C(s){h.push({path:"/class/homeworkList",query:{id:i.query.id,pro_id:s}})}function x(s){h.push({path:"/class/revisehomework",query:{homework_id:s}})}async function S(s){L.confirm("确定要删除该作业?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{await O({class_id:Number(i.query.id),homework_id:s}),y(),T({type:"success",message:"删除成功！"})})}return(s,K)=>{const c=v("el-button"),b=v("router-link");return n(),u("div",F,[e(o).isSuperAdmin()||e(l).isOwnerClass(e(o).userInfo.id)?(n(),m(b,{key:0,to:`/class/addhomework?id=${e(i).query.id}`},{default:a(()=>[g(c,{type:"primary",style:{margin:"10px 0"}},{default:a(()=>[d("创建作业")]),_:1})]),_:1},8,["to"])):p("",!0),(n(!0),u(E,null,H(e(w),t=>(n(),u("div",R,[r("div",{class:"item",onClick:_=>C(t.id)},[r("div",D,[r("span",Q,k(t.title),1),r("span",U,"截止时间："+k(t.end_time),1)]),r("div",X,[r("div",z,[e(o).isSuperAdmin()||e(l).isOwnerClass(e(o).userInfo.id)?(n(),m(c,{key:0,type:"danger",onClick:f(_=>S(t.id),["stop"])},{default:a(()=>[d(k()+"删除",1)]),_:2},1032,["onClick"])):p("",!0),e(o).isSuperAdmin()||e(l).isOwnerClass(e(o).userInfo.id)?(n(),m(c,{key:1,type:"primary",onClick:f(_=>x(t.id),["stop"])},{default:a(()=>[d("编辑")]),_:2},1032,["onClick"])):p("",!0),g(c,{type:"success",onClick:f(_=>C(t.id),["stop"])},{default:a(()=>[d("查看作业")]),_:2},1032,["onClick"])])])],8,j)]))),256))])}}});const Z=A(G,[["__scopeId","data-v-38656f6a"]]);export{Z as default};
