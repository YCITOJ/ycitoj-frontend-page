import{m as b,k as g}from"./class-c50514a5.js";import{d as v,n as x,m as y,r as k,e as a,o as B,c as C,f as e,w as o,j as I,a1 as S,g as E,E as N,p as V,a as q,b as R,_ as j}from"./index-596b62d7.js";import"./index-c70bcbaa.js";const z=n=>(V("data-v-02d44dc0"),n=n(),q(),n),M={class:"students"},T=z(()=>R("span",{class:"text-large font-600 mr-3"}," 学生列表 ",-1)),$=v({__name:"students",setup(n){const l=x(),r=y(),c=k([]);async function p(){const{data:t}=await b({class_id:l.query.id});c.value=t}p();async function u(t){await g({class_id:l.query.id,usr_id:t});let _=c.value.findIndex(d=>d.user_id===t);_!==-1&&c.value.splice(_,1),N.success("删除成功")}function i(){r.go(-1)}return(t,_)=>{const d=a("el-page-header"),s=a("el-table-column"),m=a("el-button"),f=a("el-popconfirm"),h=a("el-table");return B(),C("div",M,[e(d,{icon:I(S),onBack:i},{content:o(()=>[T]),_:1},8,["icon"]),e(h,{data:c.value,style:{width:"100%","margin-top":"20px"}},{default:o(()=>[e(s,{type:"index",width:"50"}),e(s,{prop:"sid",label:"学号",width:"180"}),e(s,{prop:"class_name",label:"班级",width:"180"}),e(s,{prop:"real_name",label:"姓名",width:"180"}),e(s,{label:"操作"},{default:o(w=>[e(f,{title:"确定要删除该学生?",onConfirm:A=>u(w.row.user_id)},{reference:o(()=>[e(m,{type:"danger",size:"small"},{default:o(()=>[E("删除")]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])])}}});const H=j($,[["__scopeId","data-v-02d44dc0"]]);export{H as default};
