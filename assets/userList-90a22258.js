import{d as S,u as k,e as B}from"./admin-5d330f3e.js";import{d as E,r as h,i as N,e as s,o as j,c as F,f as e,w as o,g as _,b as c,j as a,af as I,K as P,F as $,E as v,_ as K}from"./index-596b62d7.js";import"./index-c70bcbaa.js";const M={class:"submissionList-card"},T={class:"table"},q={class:"header"},A={class:"search"},D=E({__name:"userList",setup(G){let p=h(),m=h(0),n=N({page_no:1,page_size:20,id:"",name:""});async function i(){const{data:t}=await S(n);p.value=t.list,m.value=t.total}function C(t){n.page_no=t,i()}function y(t){n.page_size=t,i()}i();async function w(t){await k({user_id:t,n_pass:"123456"}),v.success("修改成功,已经重置为123456")}async function z(t){await B({id:t}),v.success("删除成功"),i()}return(t,r)=>{const f=s("el-breadcrumb-item"),V=s("el-breadcrumb"),g=s("el-input"),d=s("el-button"),u=s("el-table-column"),b=s("el-popconfirm"),x=s("el-table"),L=s("el-pagination");return j(),F($,null,[e(V,{separator:"/"},{default:o(()=>[e(f,{to:{path:"/admin"}},{default:o(()=>[_("主页")]),_:1}),e(f,null,{default:o(()=>[_("提价记录")]),_:1})]),_:1}),c("div",M,[c("div",T,[c("div",q,[c("div",A,[e(g,{modelValue:a(n).id,"onUpdate:modelValue":r[0]||(r[0]=l=>a(n).id=l),placeholder:"输入用户编号",clearable:""},null,8,["modelValue"]),e(g,{modelValue:a(n).name,"onUpdate:modelValue":r[1]||(r[1]=l=>a(n).name=l),placeholder:"输入用户名",clearable:""},null,8,["modelValue"]),e(d,{type:"primary",onClick:i},{default:o(()=>[_("搜索")]),_:1})])]),e(x,{data:a(p),style:{width:"100%"},fit:""},{default:o(()=>[e(u,{label:"用户编号",prop:"id",align:"center",width:"210"}),e(u,{label:"用户名",prop:"name",align:"center"}),e(u,{label:"操作"},{default:o(l=>[e(b,{title:"确定要重置密码?",onConfirm:U=>w(l.row.id)},{reference:o(()=>[e(d,{type:"primary",icon:a(I),size:"mini"},{default:o(()=>[_("重置密码")]),_:1},8,["icon"])]),_:2},1032,["onConfirm"]),e(b,{title:"确定要删除该用户?",onConfirm:U=>z(l.row.id)},{reference:o(()=>[e(d,{type:"danger",icon:a(P),size:"mini"},null,8,["icon"])]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"]),e(L,{layout:"total, sizes, prev, pager, next, jumper",total:parseInt(String(a(m))),"page-sizes":[10,20,30,40,50],"urrent-page":a(n).page_no,"page-size":a(n).page_size,onSizeChange:y,onCurrentChange:C},null,8,["total","urrent-page","page-size"])])])],64)}}});const Q=K(D,[["__scopeId","data-v-95d3bc24"]]);export{Q as default};
